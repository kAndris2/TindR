[{"/home/lara/TindR/tindr-react/src/index.js":"1","/home/lara/TindR/tindr-react/src/reportWebVitals.js":"2","/home/lara/TindR/tindr-react/src/App.js":"3","/home/lara/TindR/tindr-react/src/components/SideBar.js":"4","/home/lara/TindR/tindr-react/src/components/Asd.js":"5","/home/lara/TindR/tindr-react/src/components/WelcomePage.js":"6","/home/lara/TindR/tindr-react/src/components/Recommendations.js":"7"},{"size":597,"mtime":1607511733050,"results":"8","hashOfConfig":"9"},{"size":362,"mtime":1606467231072,"results":"10","hashOfConfig":"9"},{"size":2343,"mtime":1607507648012,"results":"11","hashOfConfig":"9"},{"size":1286,"mtime":1607510512577,"results":"12","hashOfConfig":"9"},{"size":1235,"mtime":1607518348856,"results":"13","hashOfConfig":"9"},{"size":15918,"mtime":1607525215134,"results":"14","hashOfConfig":"9"},{"size":4777,"mtime":1607508082719,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"okqy49",{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":"23","usedDeprecatedRules":"18"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26","usedDeprecatedRules":"18"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"29","messages":"30","errorCount":0,"warningCount":20,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"31","messages":"32","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"18"},"/home/lara/TindR/tindr-react/src/index.js",[],["34","35"],"/home/lara/TindR/tindr-react/src/reportWebVitals.js",[],"/home/lara/TindR/tindr-react/src/App.js",["36","37"],"import React, {Component} from 'react';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\nimport axios from 'axios';\n\nimport WelcomePage from \"./components/WelcomePage\";\nimport SideBar from \"./components/SideBar\";\nimport Asd from './components/Asd'\nimport Recommendations from \"./components/Recommendations\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    \n    this.state = {\n      user: undefined,\n      isLoggedIn: false,\n      isLoading: false\n    }\n\n    this.setCookie = this.setCookie.bind(this);\n    this.setUser = this.setUser.bind(this);\n    this.checkLoginStatus = this. checkLoginStatus.bind(this);\n  }\n\n  setCookie(id) {\n    Cookies.set('userid', id);\n  }\n  removeCookie(){\n    Cookies.remove('userid');\n  }\n  setUser(user) {\n    this.setCookie(user.id);\n    this.setState({\n      user : user,\n      isLoggedIn : true\n    });\n  }\n\n  async checkLoginStatus() {\n    const id = Cookies.get('userid');\n    if (id !== undefined) {\n      this.setState({isLoading : true})\n      await axios.get(\"http://\"+process.env.REACT_APP_IP+\":8000/api/user/\" + id)\n      .then(response => {\n        this.setState({\n          user : response.data,\n          isLoggedIn : true,\n          isLoading : false\n        })\n      })\n    }\n  }\n\n  async componentDidMount() {\n    await this.checkLoginStatus();\n  }\n\n  render() {\n    const {user, isLoggedIn, isLoading} = this.state;\n\n    if (!isLoading) {\n      return (\n        <>\n          <Router>\n            <Switch>\n\n              <Route exact path=\"/\">\n                {isLoggedIn === false &&\n                  <WelcomePage\n                    setUser={this.setUser}\n                  ></WelcomePage>\n                }\n                {isLoggedIn === true &&\n                  <Asd\n                    user={user}\n                    removeCookie={this.removeCookie}\n                  ></Asd>\n                }\n              </Route>\n\n              <Route exact path=\"/recom\">\n                {isLoggedIn === true &&\n                  <Recommendations\n                    userID={user.id}\n                  ></Recommendations>\n                }\n              </Route>\n\n            </Switch>\n          </Router>\n        </>\n      );\n    }\n    else\n      return (\n        <h1>Loading...</h1>\n      );\n  }\n}\n\nexport default App;\n","/home/lara/TindR/tindr-react/src/components/SideBar.js",["38","39","40"],"import { bubble as Menu } from 'react-burger-menu';\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nexport default class SideBar extends Component {\n  constructor(props){\n    super(props);\n\n    this.state={\n      profilePath:'',\n      isLoading:true\n    }\n\n  }\n\n  getProfilePictures(user) {\n    axios.get(`http://${process.env.REACT_APP_IP}:8000/api/pictures/${user.id}`)\n    .then(response => {\n        this.setState({\n            profilePath: response.data,\n            isLoading: false\n        });\n    })\n  }\n\n  componentDidMount(){\n    this.getProfilePictures(this.props.user);\n  }\n\n  render() {\n    const {isLoading, profilePath} = this.state;\n    if(isLoading){\n      return(<p>Loading...</p>)\n    }\n    return (\n    <Menu>\n      <div className=\"menu-item\" href=\"/\">\n        {this.props.user.name}\n      </div>\n      <a className=\"navbar-brand text-center\" href=\"#\">\n        <img src={profilePath[0].route} height=\"80\" alt=\"\"/>\n      </a>\n      <a className=\"menu-item\" href=\"/\">\n        Home\n      </a>\n      <a className=\"menu-item\" href=\"#\">\n        Link\n      </a>\n      <a className=\"menu-item\" href=\"#\">\n        Asd\n      </a>\n      <a className=\"menu-item\" href=\"/\" onClick={this.props.removeCookie} >\n        Logout\n      </a>\n    </Menu>\n    )\n  }\n}","/home/lara/TindR/tindr-react/src/components/Asd.js",["41"],"/home/lara/TindR/tindr-react/src/components/WelcomePage.js",["42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61"],"/home/lara/TindR/tindr-react/src/components/Recommendations.js",["62","63","64"],"import React, {Component} from 'react';\nimport { Helmet } from 'react-helmet';\nimport axios from 'axios';\n\nclass Recommendations extends Component {\n    constructor() {\n      super();\n\n      this.state = {\n          recommendations: [],\n          pictures: [],\n          isLoading: true,\n          current: {\n              index: undefined,\n              user: undefined\n          }\n      }\n\n      this.getRecommendations = this.getRecommendations.bind(this);\n      this.getProfilePictures = this.getProfilePictures.bind(this);\n      this.getNextProfile = this.getNextProfile.bind(this);\n      this.getCurrentData = this.getCurrentData.bind(this);\n      this.handleLike = this.handleLike.bind(this);\n      this.handleDislike = this.handleDislike.bind(this);\n      this.handleKeyDown = this.handleKeyDown.bind(this);\n      this.getPicture = this.getPicture.bind(this);\n    }\n\n    async componentDidMount() {\n        await this.getRecommendations();\n    }\n\n    async getRecommendations() {\n        await axios.get(`http://${process.env.REACT_APP_IP}:8000/api/recommendations/${this.props.userID}`)\n        .then(response => {\n            let updCurrent = {\n                index: 0,\n                user: response.data.length === undefined ? response.data : response.data[0]\n            }\n\n            this.setState({\n                recommendations : response.data,\n                current : updCurrent\n            });\n\n            if (response.data.length !== 0)\n                response.data.map(this.getProfilePictures);\n        })\n    }\n\n    getProfilePictures(user) {\n        axios.get(`http://${process.env.REACT_APP_IP}:8000/api/pictures/${user.id}`)\n        .then(response => {\n            this.setState({\n                pictures: response.data,\n                isLoading: false\n            });\n        })\n    }\n\n    getNextProfile() {\n        const { recommendations, current } = this.state;\n\n        if (recommendations[current.index + 1] !== undefined) {\n            let updCurrent = {\n                index: current.index + 1,\n                user: recommendations[current.index + 1]\n            }\n            this.setState({current : updCurrent})\n        }\n        else\n            this.setState({\n                current : {\n                    index: 0,\n                    user: undefined\n                }\n            })\n    }\n\n    getPicture(id) {\n        const { pictures } = this.state;\n        let result = [];\n\n        pictures.forEach(p => {\n            if (p.id === id) {\n                result.push(p);\n            }\n        })\n        return result;\n    }\n\n    getCurrentData() {\n        const { current } = this.state;\n\n        if (current.user !== undefined) {\n            return(\n                <>\n                    <img src={this.getPicture(current.user.id)[0].route} />\n                    <h6 className=\"mx-auto my-0 text-red\" style={{fontSize:\"800%\"}}>\n                        {current.user.name}\n                    </h6>\n                    <button onClick={this.handleDislike}>Dislike</button>\n                    <button onClick={this.handleLike}>Like</button>\n                </>\n            );\n        }\n        else {\n            return(\n                <>\n                    No more!\n                </>\n            );\n        }\n    }\n\n    handleLike() {\n        const { current } = this.state;\n        axios.post(`http://${process.env.REACT_APP_IP}:8000/api/add_like`, {\n            giverid: this.props.userID,\n            receiverid: current.user.id\n        }).then(() => {\n            this.getNextProfile();\n        })\n    }\n\n    handleDislike() {\n        const { current } = this.state;\n        axios.post(`http://${process.env.REACT_APP_IP}:8000/api/add_dislike`, {\n            giverid: this.props.userID,\n            receiverid: current.user.id\n        }).then(() => {\n            this.getNextProfile();\n        })\n    }\n\n    handleKeyDown(event) {\n        switch(event.key) {\n            case \"ArrowRight\": {\n                this.handleLike();\n                break;\n            }\n            case \"ArrowLeft\": {\n                this.handleDislike();\n                break;\n            }\n            default:\n        }\n    }\n\n    render() {\n        const { isLoading, current } = this.state;\n\n        if (!isLoading) {\n            return (\n                <>\n                    <div onKeyDown={this.handleKeyDown} tabIndex=\"0\" className=\"container d-flex h-100 align-items-center\">\n                        <div className=\"mx-auto text-center\">\n                            {this.getCurrentData()}\n                        </div>\n                    </div>\n                </>\n            );\n        }\n        else\n            return (\n                <h1>Loading...</h1>\n            );\n    }\n}\n\nexport default Recommendations;",{"ruleId":"65","replacedBy":"66"},{"ruleId":"67","replacedBy":"68"},{"ruleId":"69","severity":1,"message":"70","line":7,"column":8,"nodeType":"71","messageId":"72","endLine":7,"endColumn":15},{"ruleId":"73","severity":1,"message":"74","line":23,"column":29,"nodeType":"75","messageId":"76","endLine":23,"endColumn":51,"fix":"77"},{"ruleId":"78","severity":1,"message":"79","line":40,"column":7,"nodeType":"80","endLine":40,"endColumn":56},{"ruleId":"78","severity":1,"message":"79","line":46,"column":7,"nodeType":"80","endLine":46,"endColumn":41},{"ruleId":"78","severity":1,"message":"79","line":49,"column":7,"nodeType":"80","endLine":49,"endColumn":41},{"ruleId":"81","severity":1,"message":"82","line":6,"column":3,"nodeType":"83","messageId":"84","endLine":9,"endColumn":4},{"ruleId":"85","severity":1,"message":"86","line":79,"column":27,"nodeType":"87","messageId":"88","endLine":79,"endColumn":29},{"ruleId":"85","severity":1,"message":"86","line":79,"column":50,"nodeType":"87","messageId":"88","endLine":79,"endColumn":52},{"ruleId":"85","severity":1,"message":"86","line":121,"column":25,"nodeType":"87","messageId":"88","endLine":121,"endColumn":27},{"ruleId":"85","severity":1,"message":"86","line":149,"column":22,"nodeType":"87","messageId":"88","endLine":149,"endColumn":24},{"ruleId":"85","severity":1,"message":"86","line":151,"column":41,"nodeType":"87","messageId":"88","endLine":151,"endColumn":43},{"ruleId":"85","severity":1,"message":"86","line":151,"column":76,"nodeType":"87","messageId":"88","endLine":151,"endColumn":78},{"ruleId":"85","severity":1,"message":"86","line":169,"column":39,"nodeType":"87","messageId":"88","endLine":169,"endColumn":41},{"ruleId":"85","severity":1,"message":"86","line":202,"column":22,"nodeType":"87","messageId":"88","endLine":202,"endColumn":24},{"ruleId":"85","severity":1,"message":"86","line":267,"column":15,"nodeType":"87","messageId":"88","endLine":267,"endColumn":17},{"ruleId":"85","severity":1,"message":"89","line":268,"column":24,"nodeType":"87","messageId":"88","endLine":268,"endColumn":26},{"ruleId":"85","severity":1,"message":"86","line":271,"column":20,"nodeType":"87","messageId":"88","endLine":271,"endColumn":22},{"ruleId":"85","severity":1,"message":"89","line":272,"column":24,"nodeType":"87","messageId":"88","endLine":272,"endColumn":26},{"ruleId":"85","severity":1,"message":"86","line":301,"column":27,"nodeType":"87","messageId":"88","endLine":301,"endColumn":29},{"ruleId":"85","severity":1,"message":"86","line":301,"column":50,"nodeType":"87","messageId":"88","endLine":301,"endColumn":52},{"ruleId":"85","severity":1,"message":"86","line":333,"column":26,"nodeType":"87","messageId":"88","endLine":333,"endColumn":28},{"ruleId":"69","severity":1,"message":"90","line":398,"column":24,"nodeType":"71","messageId":"72","endLine":398,"endColumn":30},{"ruleId":"85","severity":1,"message":"89","line":432,"column":34,"nodeType":"87","messageId":"88","endLine":432,"endColumn":36},{"ruleId":"91","severity":1,"message":"92","line":454,"column":21,"nodeType":"80","endLine":454,"endColumn":53},{"ruleId":"78","severity":1,"message":"93","line":459,"column":17,"nodeType":"80","endLine":461,"endColumn":18},{"ruleId":"78","severity":1,"message":"93","line":472,"column":17,"nodeType":"80","endLine":474,"endColumn":18},{"ruleId":"69","severity":1,"message":"94","line":2,"column":10,"nodeType":"71","messageId":"72","endLine":2,"endColumn":16},{"ruleId":"91","severity":1,"message":"92","line":98,"column":21,"nodeType":"80","endLine":98,"endColumn":76},{"ruleId":"69","severity":1,"message":"95","line":151,"column":28,"nodeType":"71","messageId":"72","endLine":151,"endColumn":35},"no-native-reassign",["96"],"no-negated-in-lhs",["97"],"no-unused-vars","'SideBar' is defined but never used.","Identifier","unusedVar","no-whitespace-before-property","Unexpected whitespace before property checkLoginStatus.","MemberExpression","unexpectedWhitespace",{"range":"98","text":"99"},"jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","Expected '!==' and instead saw '!='.","'accept' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","'Helmet' is defined but never used.","'current' is assigned a value but never used.","no-global-assign","no-unsafe-negation",[655,657],"."]